[book]
title = "算法与数据结构学习指南"
authors = ["caoyang2002"]
description = "全面的算法与数据结构学习资料"
src = "src"
language = "zh-CN"

# 构建设置
[build]
build-dir = "book"
create-missing = true
preprocess = []
use-default-preprocessors = true

# Rust 设置（如果需要运行 Rust 代码）
[rust]
edition = "2021"

# 输出设置 - HTML
[output.html]
# 主题设置
theme = "src/theme"
default-theme = "navy"
preferred-dark-theme = "coal"
curly-quotes = true
mathjax-support = true
copy-fonts = true

# 折叠目录设置
fold.enable = true
fold.level = 1

# 代码块设置
code.hidelines = "~"

# 打印设置
print.enable = true

# 搜索设置
search.enable = true
search.limit-results = 30
search.teaser-word-count = 30
search.use-boolean-and = true
search.boost-title = 2
search.boost-hierarchy = 1
search.boost-paragraph = 1
search.expand = true
search.heading-split-level = 3

# Git 仓库设置
git-repository-url = "https://github.com/caoyang2002/AlgoNote"
git-repository-icon = "fa-github"

# 编辑链接
edit-url-template = "https://github.com/caoyang2002/AlgoNote/edit/main/src/{path}"

# 站点 URL
site-url = "https://caoyang2002.github.io/AlgoNote/"

# 额外的头部内容
additional-css = ["theme/custom.css"]
additional-js = ["theme/custom.js"]

# 页面标题模板
title-expand-subsections = true

# 导航栏设置
[output.html.nav]
collapse = false
sticky = true

# 页脚设置
[output.html.footer]
text = "© 2024 caoyang2002. 使用 mdBook 构建"

# 自定义头部 HTML
[output.html.head]
custom = """
<meta property="og:type" content="website">
<meta property="og:title" content="算法与数据结构学习指南">
<meta property="og:description" content="全面的算法与数据结构学习资料">
<link rel="icon" href="favicon.png" type="image/png">
"""

# PDF 输出设置（可选）
[output.html.print]
enable = true
page-break = true

# 预处理器 - 数学公式
[preprocessor.katex]
macros = "src/macros.txt"
render-options.throwOnError = false

# 预处理器 - Mermaid 图表
[preprocessor.mermaid]
command = "mdbook-mermaid"

# 预处理器 - 代码块增强
[preprocessor.prism]
theme = "tomorrow"
line-numbers = true

# 预处理器 - 目录生成
[preprocessor.toc]
command = "mdbook-toc"
renderer = ["html"]

# 预处理器 - 链接检查
[preprocessor.links]
# 检查内部链接
follow-web-links = false

# 自定义模板
[output.html.playground]
copyable = true
copy-js = true
line-numbers = false
editable = false

# 自定义 CSS 变量（添加到 theme/variables.css）
[output.html.custom]
vars = { primary-color = "#1f2937", secondary-color = "#3b82f6" }

# LaTeX/PDF 输出（如果安装了 mdbook-latex）
[output.latex]
latex = true

# EPUB 输出（如果需要）
[output.epub]
curly-quotes = true
